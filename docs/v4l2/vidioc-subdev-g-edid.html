<?xml version="1.0" encoding="ANSI_X3.4-1968" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968" /><title>ioctl VIDIOC_SUBDEV_G_EDID, VIDIOC_SUBDEV_S_EDID</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="LINUX MEDIA INFRASTRUCTURE API" /><link rel="up" href="user-func.html" title="Appendix&#160;A.&#160;Function Reference" /><link rel="prev" href="vidioc-subdev-g-crop.html" title="ioctl VIDIOC_SUBDEV_G_CROP, VIDIOC_SUBDEV_S_CROP" /><link rel="next" href="vidioc-subdev-g-fmt.html" title="ioctl VIDIOC_SUBDEV_G_FMT, VIDIOC_SUBDEV_S_FMT" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">ioctl VIDIOC_SUBDEV_G_EDID, VIDIOC_SUBDEV_S_EDID</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vidioc-subdev-g-crop.html">Prev</a>&#160;</td><th width="60%" align="center">Appendix&#160;A.&#160;Function Reference</th><td width="20%" align="right">&#160;<a accesskey="n" href="vidioc-subdev-g-fmt.html">Next</a></td></tr></table><hr /></div><div class="refentry" title="ioctl VIDIOC_SUBDEV_G_EDID, VIDIOC_SUBDEV_S_EDID"><a id="vidioc-subdev-g-edid"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VIDIOC_SUBDEV_G_EDID, VIDIOC_SUBDEV_S_EDID &#8212; Get or set the EDID of a video receiver/transmitter</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">ioctl</b>(</code></td><td>int <var class="pdparam">fd</var>, </td></tr><tr><td>&#160;</td><td>int <var class="pdparam">request</var>, </td></tr><tr><td>&#160;</td><td>struct v4l2_subdev_edid *<var class="pdparam">argp</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer">&#160;</div></div><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">ioctl</b>(</code></td><td>int <var class="pdparam">fd</var>, </td></tr><tr><td>&#160;</td><td>int <var class="pdparam">request</var>, </td></tr><tr><td>&#160;</td><td>const struct v4l2_subdev_edid *<var class="pdparam">argp</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer">&#160;</div></div></div><div class="refsect1" title="Arguments"><a id="idp36511760"></a><h2>Arguments</h2><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>fd</code></em></span></dt><dd><p>File descriptor returned by <a class="link" href="func-open.html" title="V4L2 open()"><code class="function">open()</code></a>.</p></dd><dt><span class="term"><em class="parameter"><code>request</code></em></span></dt><dd><p>VIDIOC_SUBDEV_G_EDID, VIDIOC_SUBDEV_S_EDID</p></dd><dt><span class="term"><em class="parameter"><code>argp</code></em></span></dt><dd><p></p></dd></dl></div></div><div class="refsect1" title="Description"><a id="idp36515872"></a><h2>Description</h2><p>These ioctls can be used to get or set an EDID associated with an input pad
    from a receiver or an output pad of a transmitter subdevice.</p><p>To get the EDID data the application has to fill in the <em class="structfield"><code>pad</code></em>,
    <em class="structfield"><code>start_block</code></em>, <em class="structfield"><code>blocks</code></em> and <em class="structfield"><code>edid</code></em>
    fields and call <code class="constant">VIDIOC_SUBDEV_G_EDID</code>. The current EDID from block
    <em class="structfield"><code>start_block</code></em> and of size <em class="structfield"><code>blocks</code></em>
    will be placed in the memory <em class="structfield"><code>edid</code></em> points to. The <em class="structfield"><code>edid</code></em>
    pointer must point to memory at least <em class="structfield"><code>blocks</code></em>&#160;*&#160;128 bytes
    large (the size of one block is 128 bytes).</p><p>If there are fewer blocks than specified, then the driver will set <em class="structfield"><code>blocks</code></em>
    to the actual number of blocks. If there are no EDID blocks available at all, then the error code
    ENODATA is set.</p><p>If blocks have to be retrieved from the sink, then this call will block until they
    have been read.</p><p>To set the EDID blocks of a receiver the application has to fill in the <em class="structfield"><code>pad</code></em>,
    <em class="structfield"><code>blocks</code></em> and <em class="structfield"><code>edid</code></em> fields and set
    <em class="structfield"><code>start_block</code></em> to 0. It is not possible to set part of an EDID,
    it is always all or nothing. Setting the EDID data is only valid for receivers as it makes
    no sense for a transmitter.</p><p>The driver assumes that the full EDID is passed in. If there are more EDID blocks than
    the hardware can handle then the EDID is not written, but instead the error code E2BIG is set
    and <em class="structfield"><code>blocks</code></em> is set to the maximum that the hardware supports.
    If <em class="structfield"><code>start_block</code></em> is any
    value other than 0 then the error code EINVAL is set.</p><p>To disable an EDID you set <em class="structfield"><code>blocks</code></em> to 0. Depending on the
    hardware this will drive the hotplug pin low and/or block the source from reading the EDID
    data in some way. In any case, the end result is the same: the EDID is no longer available.
    </p><div class="table"><a id="v4l2-subdev-edid"></a><p class="title"><b>Table&#160;A.100.&#160;struct <span class="structname">v4l2_subdev_edid</span></b></p><div class="table-contents"><table summary="struct v4l2_subdev_edid" width="100%" border="0"><colgroup><col /><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>pad</code></em></td><td valign="top">Pad for which to get/set the EDID blocks.</td></tr><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>start_block</code></em></td><td valign="top">Read the EDID from starting with this block. Must be 0 when setting
	    the EDID.</td></tr><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>blocks</code></em></td><td valign="top">The number of blocks to get or set. Must be less or equal to 256 (the
	    maximum number of blocks as defined by the standard). When you set the EDID and
	    <em class="structfield"><code>blocks</code></em> is 0, then the EDID is disabled or erased.</td></tr><tr><td valign="top">__u8&#160;*</td><td valign="top"><em class="structfield"><code>edid</code></em></td><td valign="top">Pointer to memory that contains the EDID. The minimum size is
	    <em class="structfield"><code>blocks</code></em>&#160;*&#160;128.</td></tr><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>reserved</code></em>[5]</td><td valign="top">Reserved for future extensions. Applications and drivers must
	    set the array to zero.</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="refsect1" title="Return Value"><a id="idp36531648"></a><h2>Return Value</h2><p>On success <span class="returnvalue">0</span> is returned, on error <span class="returnvalue">-1</span> and the <code class="varname">errno</code> variable is set appropriately. The generic error codes are described at the <a class="link" href="gen_errors.html#gen-errors" title="Table&#160;19.1.&#160;Generic error codes">Generic Error Codes</a> chapter.</p><div class="variablelist"><dl><dt><span class="term"><span class="errorcode">ENODATA</span></span></dt><dd><p>The EDID data is not available.</p></dd><dt><span class="term"><span class="errorcode">E2BIG</span></span></dt><dd><p>The EDID data you provided is more than the hardware can handle.</p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vidioc-subdev-g-crop.html">Prev</a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="user-func.html">Up</a></td><td width="40%" align="right">&#160;<a accesskey="n" href="vidioc-subdev-g-fmt.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">ioctl VIDIOC_SUBDEV_G_CROP, VIDIOC_SUBDEV_S_CROP&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&#160;ioctl VIDIOC_SUBDEV_G_FMT, VIDIOC_SUBDEV_S_FMT</td></tr></table></div></body></html>
